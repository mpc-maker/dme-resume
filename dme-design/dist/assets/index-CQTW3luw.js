import{_ as wt,c as ut,u as R}from"./index--z7nPd7k.js";import{m as Lt,B as z,r as Q,M as Ht,d as Zt,ah as Wt,p as w,q as W,W as _,T as B,R as F,u as L,P as X,X as j,Y as U,J as V,a0 as I,ab as $,Z as G,f as Xt,w as jt,V as Ut}from"./vue-lodash-vendor-BHmyI5Ue.js";import{d as tt}from"./vuedraggable-B1xgNemn.js";import{m as St,a as E,g as Tt,i as _t,b as N,c as Yt,s as qt,e as C,d as Jt,l as ft,r as P,_ as S,C as kt,S as et,f as Kt,h as k,j as H,k as Qt,n as te,o as ee,O as oe,p as ne,q as ae,B as ct,t as vt,I as re,u as ie,v as Y,w as se,x as le,y as ue,z as q,A as fe,D as dt,E as pt,F as ce,G as ve,H as de,J as ot,K as gt,L as pe,M as Et,R as Vt,N as ge,P as me,Q as he,T as xe,U as ye,V as De,W as mt,X as ht,Y as Ae,Z as nt,$ as Me,a0 as Ce,a1 as be,a2 as Ie,a3 as we,a4 as Le,a5 as Se}from"./install-DWAiy9kO.js";var Te=function(){function o(){}return o.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},o.prototype.getCoordSysModel=function(){},o}(),O=St();function _e(o){return o.type==="category"?Ee(o):$e(o)}function ke(o,e){return o.type==="category"?Ve(o,e):{ticks:E(o.scale.getTicks(),function(n){return n.value})}}function Ee(o){var e=o.getLabelModel(),n=$t(o,e);return!e.get("show")||o.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function $t(o,e){var n=Bt(o,"labels"),a=Tt(e),t=Gt(n,a);if(t)return t;var r,i;return _t(a)?r=Rt(o,a):(i=a==="auto"?Be(o):a,r=Ot(o,i)),Pt(n,a,{labels:r,labelCategoryInterval:i})}function Ve(o,e){var n=Bt(o,"ticks"),a=Tt(e),t=Gt(n,a);if(t)return t;var r,i;if((!e.get("show")||o.scale.isBlank())&&(r=[]),_t(a))r=Rt(o,a,!0);else if(a==="auto"){var l=$t(o,o.getLabelModel());i=l.labelCategoryInterval,r=E(l.labels,function(f){return f.tickValue})}else i=a,r=Ot(o,i,!0);return Pt(n,a,{ticks:r,tickCategoryInterval:i})}function $e(o){var e=o.scale.getTicks(),n=N(o);return{labels:E(e,function(a,t){return{level:a.level,formattedLabel:n(a,t),rawLabel:o.scale.getLabel(a),tickValue:a.value}})}}function Bt(o,e){return O(o)[e]||(O(o)[e]=[])}function Gt(o,e){for(var n=0;n<o.length;n++)if(o[n].key===e)return o[n].value}function Pt(o,e,n){return o.push({key:e,value:n}),n}function Be(o){var e=O(o).autoInterval;return e??(O(o).autoInterval=o.calculateCategoryInterval())}function Ge(o){var e=Pe(o),n=N(o),a=(e.axisRotate-e.labelRotate)/180*Math.PI,t=o.scale,r=t.getExtent(),i=t.count();if(r[1]-r[0]<1)return 0;var l=1;i>40&&(l=Math.max(1,Math.floor(i/40)));for(var f=r[0],s=o.dataToCoord(f+1)-o.dataToCoord(f),v=Math.abs(s*Math.cos(a)),d=Math.abs(s*Math.sin(a)),g=0,p=0;f<=r[1];f+=l){var c=0,u=0,h=Yt(n({value:f}),e.font,"center","top");c=h.width*1.3,u=h.height*1.3,g=Math.max(g,c,7),p=Math.max(p,u,7)}var A=g/v,M=p/d;isNaN(A)&&(A=1/0),isNaN(M)&&(M=1/0);var y=Math.max(0,Math.floor(Math.min(A,M))),D=O(o.model),b=o.getExtent(),x=D.lastAutoInterval,m=D.lastTickCount;return x!=null&&m!=null&&Math.abs(x-y)<=1&&Math.abs(m-i)<=1&&x>y&&D.axisExtent0===b[0]&&D.axisExtent1===b[1]?y=x:(D.lastTickCount=i,D.lastAutoInterval=y,D.axisExtent0=b[0],D.axisExtent1=b[1]),y}function Pe(o){var e=o.getLabelModel();return{axisRotate:o.getRotate?o.getRotate():o.isHorizontal&&!o.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Ot(o,e,n){var a=N(o),t=o.scale,r=t.getExtent(),i=o.getLabelModel(),l=[],f=Math.max((e||0)+1,1),s=r[0],v=t.count();s!==0&&f>1&&v/f>2&&(s=Math.round(Math.ceil(s/f)*f));var d=qt(o),g=i.get("showMinLabel")||d,p=i.get("showMaxLabel")||d;g&&s!==r[0]&&u(r[0]);for(var c=s;c<=r[1];c+=f)u(c);p&&c-f!==r[1]&&u(r[1]);function u(h){var A={value:h};l.push(n?h:{formattedLabel:a(A),rawLabel:t.getLabel(A),tickValue:h})}return l}function Rt(o,e,n){var a=o.scale,t=N(o),r=[];return C(a.getTicks(),function(i){var l=a.getLabel(i),f=i.value;e(i.value,l)&&r.push(n?f:{formattedLabel:t(i),rawLabel:l,tickValue:f})}),r}var xt=[0,1],Oe=function(){function o(e,n,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=a||[0,0]}return o.prototype.contain=function(e){var n=this._extent,a=Math.min(n[0],n[1]),t=Math.max(n[0],n[1]);return e>=a&&e<=t},o.prototype.containData=function(e){return this.scale.contain(e)},o.prototype.getExtent=function(){return this._extent.slice()},o.prototype.getPixelPrecision=function(e){return Jt(e||this.scale.getExtent(),this._extent)},o.prototype.setExtent=function(e,n){var a=this._extent;a[0]=e,a[1]=n},o.prototype.dataToCoord=function(e,n){var a=this._extent,t=this.scale;return e=t.normalize(e),this.onBand&&t.type==="ordinal"&&(a=a.slice(),yt(a,t.count())),ft(e,xt,a,n)},o.prototype.coordToData=function(e,n){var a=this._extent,t=this.scale;this.onBand&&t.type==="ordinal"&&(a=a.slice(),yt(a,t.count()));var r=ft(e,a,xt,n);return this.scale.scale(r)},o.prototype.pointToData=function(e,n){},o.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),a=ke(this,n),t=a.ticks,r=E(t,function(l){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(l):l),tickValue:l}},this),i=n.get("alignWithLabel");return Re(this,r,i,e.clamp),r},o.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var a=this.scale.getMinorTicks(n),t=E(a,function(r){return E(r,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this);return t},o.prototype.getViewLabels=function(){return _e(this).labels},o.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},o.prototype.getTickModel=function(){return this.model.getModel("axisTick")},o.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),a=n[1]-n[0]+(this.onBand?1:0);a===0&&(a=1);var t=Math.abs(e[1]-e[0]);return Math.abs(t)/a},o.prototype.calculateCategoryInterval=function(){return Ge(this)},o}();function yt(o,e){var n=o[1]-o[0],a=e,t=n/a/2;o[0]+=t,o[1]-=t}function Re(o,e,n,a){var t=e.length;if(!o.onBand||n||!t)return;var r=o.getExtent(),i,l;if(t===1)e[0].coord=r[0],i=e[1]={coord:r[1]};else{var f=e[t-1].tickValue-e[0].tickValue,s=(e[t-1].coord-e[0].coord)/f;C(e,function(p){p.coord-=s/2});var v=o.scale.getExtent();l=1+v[1]-e[t-1].tickValue,i={coord:e[t-1].coord+s*l},e.push(i)}var d=r[0]>r[1];g(e[0].coord,r[0])&&(a?e[0].coord=r[0]:e.shift()),a&&g(r[0],e[0].coord)&&e.unshift({coord:r[0]}),g(r[1],i.coord)&&(a?i.coord=r[1]:e.pop()),a&&g(i.coord,r[1])&&e.push({coord:r[1]});function g(p,c){return p=P(p),c=P(c),d?p>c:p<c}}const ze=Oe;var Fe=function(o){S(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(kt);const Ne=Fe;var at=function(o){S(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",et).models[0]},e.type="cartesian2dAxis",e}(kt);Kt(at,Te);var zt={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},He=k({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},zt),st=k({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},zt),Ze=k({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},st),We=H({logBase:10},st);const Xe={category:He,value:st,time:Ze,log:We};var je={value:1,category:1,time:1,log:1};function Dt(o,e,n,a){C(je,function(t,r){var i=k(k({},Xe[r],!0),a,!0),l=function(f){S(s,f);function s(){var v=f!==null&&f.apply(this,arguments)||this;return v.type=e+"Axis."+r,v}return s.prototype.mergeDefaultAndTheme=function(v,d){var g=Qt(this),p=g?te(v):{},c=d.getTheme();k(v,c.get(r+"Axis")),k(v,this.getDefaultOption()),v.type=At(v),g&&ee(v,p,g)},s.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=oe.createByAxisModel(this))},s.prototype.getCategories=function(v){var d=this.option;if(d.type==="category")return v?d.data:this.__ordinalMeta.categories},s.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},s.type=e+"Axis."+r,s.defaultOption=i,s}(n);o.registerComponentModel(l)}),o.registerSubTypeDefaulter(e+"Axis",At)}function At(o){return o.type||(o.data?"category":"value")}var Ue=function(){function o(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return o.prototype.getAxis=function(e){return this._axes[e]},o.prototype.getAxes=function(){return E(this._dimList,function(e){return this._axes[e]},this)},o.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ne(this.getAxes(),function(n){return n.scale.type===e})},o.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},o}();const Ye=Ue;var rt=["x","y"];function Mt(o){return o.type==="interval"||o.type==="time"}var qe=function(o){S(e,o);function e(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=rt,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!Mt(n)||!Mt(a))){var t=n.getExtent(),r=a.getExtent(),i=this.dataToPoint([t[0],r[0]]),l=this.dataToPoint([t[1],r[1]]),f=t[1]-t[0],s=r[1]-r[0];if(!(!f||!s)){var v=(l[0]-i[0])/f,d=(l[1]-i[1])/s,g=i[0]-t[0]*v,p=i[1]-r[0]*d,c=this._transform=[v,0,0,d,g,p];this._invTransform=ae([],c)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var a=this.getAxis("x"),t=this.getAxis("y");return a.contain(a.toLocalCoord(n[0]))&&t.contain(t.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,a){var t=this.dataToPoint(n),r=this.dataToPoint(a),i=this.getArea(),l=new ct(t[0],t[1],r[0]-t[0],r[1]-t[1]);return i.intersect(l)},e.prototype.dataToPoint=function(n,a,t){t=t||[];var r=n[0],i=n[1];if(this._transform&&r!=null&&isFinite(r)&&i!=null&&isFinite(i))return vt(t,n,this._transform);var l=this.getAxis("x"),f=this.getAxis("y");return t[0]=l.toGlobalCoord(l.dataToCoord(r,a)),t[1]=f.toGlobalCoord(f.dataToCoord(i,a)),t},e.prototype.clampData=function(n,a){var t=this.getAxis("x").scale,r=this.getAxis("y").scale,i=t.getExtent(),l=r.getExtent(),f=t.parse(n[0]),s=r.parse(n[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(i[0],i[1]),f),Math.max(i[0],i[1])),a[1]=Math.min(Math.max(Math.min(l[0],l[1]),s),Math.max(l[0],l[1])),a},e.prototype.pointToData=function(n,a){var t=[];if(this._invTransform)return vt(t,n,this._invTransform);var r=this.getAxis("x"),i=this.getAxis("y");return t[0]=r.coordToData(r.toLocalCoord(n[0]),a),t[1]=i.coordToData(i.toLocalCoord(n[1]),a),t},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(n){n=n||0;var a=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),r=Math.min(a[0],a[1])-n,i=Math.min(t[0],t[1])-n,l=Math.max(a[0],a[1])-r+n,f=Math.max(t[0],t[1])-i+n;return new ct(r,i,l,f)},e}(Ye),Je=function(o){S(e,o);function e(n,a,t,r,i){var l=o.call(this,n,a,t)||this;return l.index=0,l.type=r||"value",l.position=i||"bottom",l}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),n&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(n,a){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e}(ze);const Ke=Je;var J=Math.log;function Qe(o,e,n){var a=re.prototype,t=a.getTicks.call(n),r=a.getTicks.call(n,!0),i=t.length-1,l=a.getInterval.call(n),f=ie(o,e),s=f.extent,v=f.fixMin,d=f.fixMax;if(o.type==="log"){var g=J(o.base);s=[J(s[0])/g,J(s[1])/g]}o.setExtent(s[0],s[1]),o.calcNiceExtent({splitNumber:i,fixMin:v,fixMax:d});var p=a.getExtent.call(o);v&&(s[0]=p[0]),d&&(s[1]=p[1]);var c=a.getInterval.call(o),u=s[0],h=s[1];if(v&&d)c=(h-u)/i;else if(v)for(h=s[0]+c*i;h<s[1]&&isFinite(h)&&isFinite(s[1]);)c=Y(c),h=s[0]+c*i;else if(d)for(u=s[1]-c*i;u>s[0]&&isFinite(u)&&isFinite(s[0]);)c=Y(c),u=s[1]-c*i;else{var A=o.getTicks().length-1;A>i&&(c=Y(c));var M=c*i;h=Math.ceil(s[1]/c)*c,u=P(h-M),u<0&&s[0]>=0?(u=0,h=P(M)):h>0&&s[1]<=0&&(h=0,u=-P(M))}var y=(t[0].value-r[0].value)/l,D=(t[i].value-r[i].value)/l;a.setExtent.call(o,u+c*y,h+c*D),a.setInterval.call(o,c),(y||D)&&a.setNiceExtent.call(o,u+c,h-c)}var to=function(){function o(e,n,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=rt,this._initCartesian(e,n,a),this.model=e}return o.prototype.getRect=function(){return this._rect},o.prototype.update=function(e,n){var a=this._axesMap;this._updateScale(e,this.model);function t(i){var l,f=de(i),s=f.length;if(s){for(var v=[],d=s-1;d>=0;d--){var g=+f[d],p=i[g],c=p.model,u=p.scale;ot(u)&&c.get("alignTicks")&&c.get("interval")==null?v.push(p):(gt(u,c),ot(u)&&(l=p))}v.length&&(l||(l=v.pop(),gt(l.scale,l.model)),C(v,function(h){Qe(h.scale,h.model,l.scale)}))}}t(a.x),t(a.y);var r={};C(a.x,function(i){Ct(a,"y",i,r)}),C(a.y,function(i){Ct(a,"x",i,r)}),this.resize(this.model,n)},o.prototype.resize=function(e,n,a){var t=e.getBoxLayoutParams(),r=!a&&e.get("containLabel"),i=se(t,{width:n.getWidth(),height:n.getHeight()});this._rect=i;var l=this._axesList;f(),r&&(C(l,function(s){if(!s.model.get(["axisLabel","inside"])){var v=le(s);if(v){var d=s.isHorizontal()?"height":"width",g=s.model.get(["axisLabel","margin"]);i[d]-=v[d]+g,s.position==="top"?i.y+=v.height+g:s.position==="left"&&(i.x+=v.width+g)}}}),f()),C(this._coordsList,function(s){s.calcAffineTransform()});function f(){C(l,function(s){var v=s.isHorizontal(),d=v?[0,i.width]:[0,i.height],g=s.inverse?1:0;s.setExtent(d[g],d[1-g]),eo(s,v?i.x:i.y)})}},o.prototype.getAxis=function(e,n){var a=this._axesMap[e];if(a!=null)return a[n||0]},o.prototype.getAxes=function(){return this._axesList.slice()},o.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var a="x"+e+"y"+n;return this._coordsMap[a]}ue(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var t=0,r=this._coordsList;t<r.length;t++)if(r[t].getAxis("x").index===e||r[t].getAxis("y").index===n)return r[t]},o.prototype.getCartesians=function(){return this._coordsList.slice()},o.prototype.convertToPixel=function(e,n,a){var t=this._findConvertTarget(n);return t.cartesian?t.cartesian.dataToPoint(a):t.axis?t.axis.toGlobalCoord(t.axis.dataToCoord(a)):null},o.prototype.convertFromPixel=function(e,n,a){var t=this._findConvertTarget(n);return t.cartesian?t.cartesian.pointToData(a):t.axis?t.axis.coordToData(t.axis.toLocalCoord(a)):null},o.prototype._findConvertTarget=function(e){var n=e.seriesModel,a=e.xAxisModel||n&&n.getReferringComponents("xAxis",et).models[0],t=e.yAxisModel||n&&n.getReferringComponents("yAxis",et).models[0],r=e.gridModel,i=this._coordsList,l,f;if(n)l=n.coordinateSystem,q(i,l)<0&&(l=null);else if(a&&t)l=this.getCartesian(a.componentIndex,t.componentIndex);else if(a)f=this.getAxis("x",a.componentIndex);else if(t)f=this.getAxis("y",t.componentIndex);else if(r){var s=r.coordinateSystem;s===this&&(l=this._coordsList[0])}return{cartesian:l,axis:f}},o.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},o.prototype._initCartesian=function(e,n,a){var t=this,r=this,i={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},f={x:0,y:0};if(n.eachComponent("xAxis",s("x"),this),n.eachComponent("yAxis",s("y"),this),!f.x||!f.y){this._axesMap={},this._axesList=[];return}this._axesMap=l,C(l.x,function(v,d){C(l.y,function(g,p){var c="x"+d+"y"+p,u=new qe(c);u.master=t,u.model=e,t._coordsMap[c]=u,t._coordsList.push(u),u.addAxis(v),u.addAxis(g)})});function s(v){return function(d,g){if(K(d,e)){var p=d.get("position");v==="x"?p!=="top"&&p!=="bottom"&&(p=i.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=i.left?"right":"left"),i[p]=!0;var c=new Ke(v,fe(d),[0,0],d.get("type"),p),u=c.type==="category";c.onBand=u&&d.get("boundaryGap"),c.inverse=d.get("inverse"),d.axis=c,c.model=d,c.grid=r,c.index=g,r._axesList.push(c),l[v][g]=c,f[v]++}}}},o.prototype._updateScale=function(e,n){C(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),t.type==="category"){var r=t.model.get("categorySortInfo");t.scale.setSortInfo(r)}}),e.eachSeries(function(t){if(dt(t)){var r=pt(t),i=r.xAxisModel,l=r.yAxisModel;if(!K(i,n)||!K(l,n))return;var f=this.getCartesian(i.componentIndex,l.componentIndex),s=t.getData(),v=f.getAxis("x"),d=f.getAxis("y");a(s,v),a(s,d)}},this);function a(t,r){C(ce(t,r.dim),function(i){r.scale.unionExtentFromData(t,i)})}},o.prototype.getTooltipAxes=function(e){var n=[],a=[];return C(this.getCartesians(),function(t){var r=e!=null&&e!=="auto"?t.getAxis(e):t.getBaseAxis(),i=t.getOtherAxis(r);q(n,r)<0&&n.push(r),q(a,i)<0&&a.push(i)}),{baseAxes:n,otherAxes:a}},o.create=function(e,n){var a=[];return e.eachComponent("grid",function(t,r){var i=new o(t,e,n);i.name="grid_"+r,i.resize(t,n,!0),t.coordinateSystem=i,a.push(i)}),e.eachSeries(function(t){if(dt(t)){var r=pt(t),i=r.xAxisModel,l=r.yAxisModel,f=i.getCoordSysModel(),s=f.coordinateSystem;t.coordinateSystem=s.getCartesian(i.componentIndex,l.componentIndex)}}),a},o.dimensions=rt,o}();function K(o,e){return o.getCoordSysModel()===e}function Ct(o,e,n,a){n.getAxesOnZeroOf=function(){return r?[r]:[]};var t=o[e],r,i=n.model,l=i.get(["axisLine","onZero"]),f=i.get(["axisLine","onZeroAxisIndex"]);if(!l)return;if(f!=null)bt(t[f])&&(r=t[f]);else for(var s in t)if(t.hasOwnProperty(s)&&bt(t[s])&&!a[v(t[s])]){r=t[s];break}r&&(a[v(r)]=!0);function v(d){return d.dim+"_"+d.index}}function bt(o){return o&&o.type!=="category"&&o.type!=="time"&&ve(o)}function eo(o,e){var n=o.getExtent(),a=n[0]+n[1];o.toGlobalCoord=o.dim==="x"?function(t){return t+e}:function(t){return a-t+e},o.toLocalCoord=o.dim==="x"?function(t){return t-e}:function(t){return a-t+e}}const oo=to;var it=St();function no(o,e,n,a){var t=n.axis;if(!t.scale.isBlank()){var r=n.getModel("splitArea"),i=r.getModel("areaStyle"),l=i.get("color"),f=a.coordinateSystem.getRect(),s=t.getTicksCoords({tickModel:r,clamp:!0});if(s.length){var v=l.length,d=it(o).splitAreaColors,g=pe(),p=0;if(d)for(var c=0;c<s.length;c++){var u=d.get(s[c].tickValue);if(u!=null){p=(u+(v-1)*c)%v;break}}var h=t.toGlobalCoord(s[0].coord),A=i.getAreaStyle();l=Et(l)?l:[l];for(var c=1;c<s.length;c++){var M=t.toGlobalCoord(s[c].coord),y=void 0,D=void 0,b=void 0,x=void 0;t.isHorizontal()?(y=h,D=f.y,b=M-y,x=f.height,h=y+b):(y=f.x,D=h,b=f.width,x=M-D,h=D+x);var m=s[c-1].tickValue;m!=null&&g.set(m,p),e.add(new Vt({anid:m!=null?"area_"+m:null,shape:{x:y,y:D,width:b,height:x},style:H({fill:l[p]},A),autoBatch:!0,silent:!0})),p=(p+1)%v}it(o).splitAreaColors=g}}}function ao(o){it(o).splitAreaColors=null}var ro=["axisLine","axisTickLabel","axisName"],io=["splitArea","splitLine","minorSplitLine"],Ft=function(o){S(e,o);function e(){var n=o!==null&&o.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,a,t,r){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new ge,this.group.add(this._axisGroup),!!n.get("show")){var l=n.getCoordSysModel(),f=me(l,n),s=new he(n,xe({handleAutoShown:function(d){for(var g=l.coordinateSystem.getCartesians(),p=0;p<g.length;p++)if(ot(g[p].getOtherAxis(n.axis).scale))return!0;return!1}},f));C(ro,s.add,s),this._axisGroup.add(s.getGroup()),C(io,function(d){n.get([d,"show"])&&so[d](this,this._axisGroup,n,l)},this);var v=r&&r.type==="changeAxisOrder"&&r.isInitSort;v||ye(i,this._axisGroup,n),o.prototype.render.call(this,n,a,t,r)}},e.prototype.remove=function(){ao(this)},e.type="cartesianAxis",e}(De),so={splitLine:function(o,e,n,a){var t=n.axis;if(!t.scale.isBlank()){var r=n.getModel("splitLine"),i=r.getModel("lineStyle"),l=i.get("color");l=Et(l)?l:[l];for(var f=a.coordinateSystem.getRect(),s=t.isHorizontal(),v=0,d=t.getTicksCoords({tickModel:r}),g=[],p=[],c=i.getLineStyle(),u=0;u<d.length;u++){var h=t.toGlobalCoord(d[u].coord);s?(g[0]=h,g[1]=f.y,p[0]=h,p[1]=f.y+f.height):(g[0]=f.x,g[1]=h,p[0]=f.x+f.width,p[1]=h);var A=v++%l.length,M=d[u].tickValue,y=new mt({anid:M!=null?"line_"+d[u].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:p[0],y2:p[1]},style:H({stroke:l[A]},c),silent:!0});ht(y.shape,c.lineWidth),e.add(y)}}},minorSplitLine:function(o,e,n,a){var t=n.axis,r=n.getModel("minorSplitLine"),i=r.getModel("lineStyle"),l=a.coordinateSystem.getRect(),f=t.isHorizontal(),s=t.getMinorTicksCoords();if(s.length)for(var v=[],d=[],g=i.getLineStyle(),p=0;p<s.length;p++)for(var c=0;c<s[p].length;c++){var u=t.toGlobalCoord(s[p][c].coord);f?(v[0]=u,v[1]=l.y,d[0]=u,d[1]=l.y+l.height):(v[0]=l.x,v[1]=u,d[0]=l.x+l.width,d[1]=u);var h=new mt({anid:"minor_line_"+s[p][c].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:d[0],y2:d[1]},style:g,silent:!0});ht(h.shape,g.lineWidth),e.add(h)}},splitArea:function(o,e,n,a){no(o,e,n,a)}},Nt=function(o){S(e,o);function e(){var n=o!==null&&o.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e}(Ft),lo=function(o){S(e,o);function e(){var n=o!==null&&o.apply(this,arguments)||this;return n.type=Nt.type,n}return e.type="yAxis",e}(Ft),uo=function(o){S(e,o);function e(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,a){this.group.removeAll(),n.get("show")&&this.group.add(new Vt({shape:n.coordinateSystem.getRect(),style:H({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Ae),It={offset:0};function fo(o){o.registerComponentView(uo),o.registerComponentModel(Ne),o.registerCoordinateSystem("cartesian2d",oo),Dt(o,"x",at,It),Dt(o,"y",at,It),o.registerComponentView(Nt),o.registerComponentView(lo),o.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function co(o){nt(fo),nt(Me)}const vo=Lt({__name:"index",props:{leftDragDomInfo:{type:Object,default:{}},previewMode:{type:Boolean,default:!1}},emits:["contextmenuEvent"],setup(o,{emit:e}){nt([Ce,be,Ie,we,Le,Se,co]);const n=z("global_css_default"),a=z("global_event_default"),t=o,r=e,i=z("select_component_info"),l=z("changeSelectedComponentInfo"),f=c=>{t.previewMode||l!=null&&l(c)},s=(c,u)=>{t.previewMode||l!=null&&(l(c),r("contextmenuEvent",u))},v=(c,u)=>{try{return(c==null?void 0:c.length)>0?new Function(c.toString(),u):new Function(u)}catch(h){console.log(h)}},d=Q([]),g=Q({}),p=Ht({});return Zt(()=>{var M,y,D,b;Object.keys(t.leftDragDomInfo.props).forEach(x=>{p[x]=t.leftDragDomInfo.props[x].default});const u=[],h=(M=t.leftDragDomInfo.classAttr)==null?void 0:M.global,A=(y=t.leftDragDomInfo.classAttr)==null?void 0:y.custom;if(h&&n){const x=(b=(D=n==null?void 0:n.value)==null?void 0:D.filter(m=>h.includes(m.class_name)))==null?void 0:b.map(m=>m.value);u.push(x)}if(A&&u.push(A),d.value=u,g.value={},t.previewMode)for(let x in t.leftDragDomInfo.eventAttr){const m=t.leftDragDomInfo.eventAttr;if(m[x].custom)g.value={...g.value,[x]:v(m[x].anonymous_params,m[x].val)};else{const T=a==null?void 0:a.value.filter(Z=>m[x].list.includes(Z.event_name)).map(Z=>Z.value),lt=T==null?void 0:T.join(";");lt&&(g.value={...g.value,[x]:v(m[x].anonymous_params,lt)})}}}),(c,u)=>{var A,M,y,D,b,x;const h=Wt("index",!0);return w(),W("div",null,[t.leftDragDomInfo.compatibility&&t.leftDragDomInfo.slots?(w(),_(G(t.leftDragDomInfo.tag),V({key:0,modelValue:t.leftDragDomInfo.v_model,"onUpdate:modelValue":u[2]||(u[2]=m=>t.leftDragDomInfo.v_model=m)},$(g.value),p,{class:["canvas-component",`${t.previewMode?"":"container"} ${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((A=L(i))==null?void 0:A.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`],onClick:u[3]||(u[3]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[4]||(u[4]=I(m=>s(t.leftDragDomInfo,m),["stop"])),style:d.value}),{default:B(()=>[F(L(tt),{modelValue:t.leftDragDomInfo.childrens,"onUpdate:modelValue":u[1]||(u[1]=m=>t.leftDragDomInfo.childrens=m),class:X(["compatibility",`${t.leftDragDomInfo.childrens.length>0||t.previewMode?"":"default-slot"} ${t.leftDragDomInfo.ClearStyle?"no-dom":""}`]),group:t.leftDragDomInfo.canAllowTo?"design-group":`${t.leftDragDomInfo.id}-no-group`,"item-key":"id",handle:".can-move","ghost-class":"ghost"},{item:B(({element:m})=>[F(h,{leftDragDomInfo:m,"preview-mode":t.previewMode,onContextmenuEvent:u[0]||(u[0]=T=>r("contextmenuEvent",T))},null,8,["leftDragDomInfo","preview-mode"])]),_:1},8,["modelValue","class","group"]),j(" "+U(t.leftDragDomInfo.tagSlots.enable?t.leftDragDomInfo.tagSlots.val:null),1)]),_:1},16,["modelValue","class","style"])):!t.leftDragDomInfo.compatibility&&t.leftDragDomInfo.slots?(w(),_(L(tt),V({key:1},$(g.value),{list:t.leftDragDomInfo.childrens,"component-data":p,class:["canvas-component",`${t.leftDragDomInfo.childrens.length>0||t.previewMode?"":"default-slot"} ${t.previewMode?"":"container"} ${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((M=L(i))==null?void 0:M.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`],onClick:u[6]||(u[6]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[7]||(u[7]=I(m=>s(t.leftDragDomInfo,m),["stop"])),group:t.leftDragDomInfo.canAllowTo?"design-group":t.leftDragDomInfo.id,"item-key":"id","ghost-class":"ghost",tag:t.leftDragDomInfo.tag,style:d.value,handle:".can-move"}),{item:B(({element:m})=>[F(h,{leftDragDomInfo:m,"preview-mode":t.previewMode,onContextmenuEvent:u[5]||(u[5]=T=>r("contextmenuEvent",T))},null,8,["leftDragDomInfo","preview-mode"])]),_:1},16,["list","component-data","class","group","tag","style"])):t.leftDragDomInfo.compatibility&&!t.leftDragDomInfo.slots&&t.leftDragDomInfo.tagSlots.enable?(w(),W("div",{key:2,onClick:u[9]||(u[9]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[10]||(u[10]=I(m=>s(t.leftDragDomInfo,m),["stop"])),class:X(["compatibility",`${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((y=L(i))==null?void 0:y.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`])},[(w(),_(G(t.leftDragDomInfo.tag),V({class:"canvas-component",modelValue:t.leftDragDomInfo.v_model,"onUpdate:modelValue":u[8]||(u[8]=m=>t.leftDragDomInfo.v_model=m)},p,$(g.value),{style:d.value}),{default:B(()=>[j(U(t.leftDragDomInfo.tagSlots.val),1)]),_:1},16,["modelValue","style"]))],34)):t.leftDragDomInfo.compatibility&&!t.leftDragDomInfo.slots&&!t.leftDragDomInfo.tagSlots.enable?(w(),W("div",{key:3,class:X(["compatibility",`${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((D=L(i))==null?void 0:D.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`]),onClick:u[12]||(u[12]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[13]||(u[13]=I(m=>s(t.leftDragDomInfo,m),["stop"]))},[(w(),_(G(t.leftDragDomInfo.tag),V({class:"canvas-component",modelValue:t.leftDragDomInfo.v_model,"onUpdate:modelValue":u[11]||(u[11]=m=>t.leftDragDomInfo.v_model=m)},p,$(g.value),{style:d.value}),null,16,["modelValue","style"]))],34)):!t.leftDragDomInfo.slots&&t.leftDragDomInfo.tagSlots.enable?(w(),_(G(t.leftDragDomInfo.tag),V({key:4,class:["canvas-component",`${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((b=L(i))==null?void 0:b.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`],onClick:u[14]||(u[14]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[15]||(u[15]=I(m=>s(t.leftDragDomInfo,m),["stop"])),modelValue:t.leftDragDomInfo.v_model,"onUpdate:modelValue":u[16]||(u[16]=m=>t.leftDragDomInfo.v_model=m)},p,$(g.value),{style:d.value}),{default:B(()=>[j(U(t.leftDragDomInfo.tagSlots.val),1)]),_:1},16,["class","modelValue","style"])):(w(),_(G(t.leftDragDomInfo.tag),V({key:5,class:["canvas-component",`${t.leftDragDomInfo.canMove&&!t.previewMode?"can-move":"not-move"} ${((x=L(i))==null?void 0:x.id)==t.leftDragDomInfo.id&&!t.previewMode?"select-component":""}`],onClick:u[17]||(u[17]=I(m=>f(t.leftDragDomInfo),["stop"])),onContextmenu:u[18]||(u[18]=I(m=>s(t.leftDragDomInfo,m),["stop"])),modelValue:t.leftDragDomInfo.v_model,"onUpdate:modelValue":u[19]||(u[19]=m=>t.leftDragDomInfo.v_model=m)},p,$(g.value),{style:d.value}),null,16,["class","modelValue","style"]))])}}}),po=wt(vo,[["__scopeId","data-v-5b994ec5"]]),go=Lt({__name:"index",props:{previewMode:{type:Boolean,default:!1}},emits:["contextmenuEvent"],setup(o,{emit:e}){const n=o,a=e,t=Xt(()=>({height:ut(R().cardInfo.height),width:ut(R().cardInfo.width)}));let r=Q([]);jt(()=>R().componentList,(l,f)=>{l.length||(r.value=[])});const i=l=>{R().componentList=r.value};return(l,f)=>(w(),_(L(tt),{handle:".can-move",list:L(r),group:"design-group","item-key":"id","ghost-class":"ghost",style:Ut(t.value),class:"drag-area",onAdd:i},{item:B(({element:s})=>[F(po,{leftDragDomInfo:s,onContextmenuEvent:f[0]||(f[0]=v=>a("contextmenuEvent",v)),previewMode:n.previewMode},null,8,["leftDragDomInfo","previewMode"])]),_:1},8,["list","style"]))}}),Do=wt(go,[["__scopeId","data-v-9a812f22"]]);export{Do as default};
